# Echoes of Cinema


## ะกะบัะธะฝัะพัั

![ะะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ Echoes of Cinema](screenshots/homepage.png)
![ะกััะฐะฝะธัะฐ ะดะพะฑะฐะฒะปะตะฝะธั ัะธะปัะผะฐ](screenshots/post.png)

## ะะฟะธัะฐะฝะธะต
๐ฝ EchoesOfCinema โ API ะดะปั ะบะฐัะฐะปะพะณะฐ ัะธะปัะผะพะฒ

EchoesOfCinema โ ััะพ ััะตะฑะฝะพ-ะฟัะฐะบัะธัะตัะบะธะน ะฟัะพะตะบั ะฝะฐ Django, ะบะพัะพััะน ััะฐัะฐััั ะดะพัะฐะฑะฐััะฒะฐัั ะดะพ backend ั REST API, ะฐััะตะฝัะธัะธะบะฐัะธะตะน JWT, Swagger ะดะพะบัะผะตะฝัะฐัะธะตะน, ัะตััะฐะผะธ ะธ CI/CD ัะตัะตะท GitHub Actions.
ะัะพะตะบั ะดะตะผะพะฝัััะธััะตั ะฝะฐะฒัะบะธ ัะฐะทัะฐะฑะพัะบะธ ัะตัะฒะตัะฝะพะณะพ API ะฝะฐ Django Rest Framework, ัะฐะฑะพัั ั ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ, CRUD-ะพะฟะตัะฐัะธะธ, ะฟะฐะณะธะฝะฐัะธั, ะฐะฒัะพัะธะทะฐัะธั ะธ ัะตััะธัะพะฒะฐะฝะธะต.

## ๐ ะคัะฝะบัะธะพะฝะฐะป

๐ฌ API ัะธะปัะผะพะฒ

- ะะพะปััะตะฝะธะต ัะฟะธัะบะฐ ัะธะปัะผะพะฒ
- ะะฐะณะธะฝะฐัะธั
- ะัะพัะผะพัั ะพะดะฝะพะณะพ ัะธะปัะผะฐ
- ะกะพะทะดะฐะฝะธะต, ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต, ัะดะฐะปะตะฝะธะต (ะดะปั ะฐะฒัะพัะธะทะพะฒะฐะฝะฝัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน)
- ะฃะฟัะฐะฒะปะตะฝะธะต slug
- ะะฐัะธัะฐ:
   ๐ ะฐะฝะพะฝะธะผ โ ัะพะปัะบะพ ััะตะฝะธะต
   ๐ ะฒะปะฐะดะตะปะตั โ CRUD
   ๐ก ะฐะดะผะธะฝ โ ะฟะพะปะฝัะน ะดะพัััะฟ

๐ ะะฒัะพัะธะทะฐัะธั
- JWT ัะพะบะตะฝั:
    - /api/v1/token/
    - /api/v1/token/refresh/
    - /api/v1/token/verify/

๐ Swagger / OpenAPI ะดะพะบัะผะตะฝัะฐัะธั
ะะพะปะฝะพัััั ะฐะฒัะพะณะตะฝะตัะธััะตะผะฐั ััะตะผะฐ:
    Swagger UI:
      - /api/v1/docs/
    OpenAPI ััะตะผะฐ (yaml):
      - /api/v1/schema/

๐งช ะขะตััะธัะพะฒะฐะฝะธะต (pytest + DRF APIClient)
ะะพะบัััะพ:
- ะฟะพะปััะตะฝะธะต ัะธะปัะผะพะฒ
- ะฟะพะดัะพะฑะฝัะน ะฟัะพัะผะพัั
- ะฐะฒัะพัะธะทะฐัะธั
- ัะพะทะดะฐะฝะธะต/ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต
- ัะดะฐะปะตะฝะธะต
- slug-ะฒะฐะปะธะดะฐัะธั
- ะฟัะพะฒะตัะบะธ ะฟัะฐะฒ ะดะพัััะฟะฐ

๐ CI/CD
GitHub Actions ะฐะฒัะพะผะฐัะธัะตัะบะธ:
   1. ัััะฐะฝะฐะฒะปะธะฒะฐะตั ะทะฐะฒะธัะธะผะพััะธ
   2. ะทะฐะฟััะบะฐะตั Django
   3. ะฒัะฟะพะปะฝัะตั ะผะธะณัะฐัะธะธ
   4. ะทะฐะฟััะบะฐะตั pytest

ะคะฐะนะป workflow ะปะตะถะธั ะฒ .github/workflows/tests.yml

## ๐งฑ ะขะตัะฝะพะปะพะณะธะธ
- Python 3.12
- Django 5
- Django REST Framework
- SimpleJWT
- drf-spectacular (Swagger)
- pytest
- GitHub Actions
- SQLite (dev)

## ๐ API ะญะฝะดะฟะพะธะฝัั
๐ฌ Movies API

ะะตัะพะด	URL	                    ะะพัััะฟ	            ะะฟะธัะฐะฝะธะต
GET	    /api/v1/movies/	        ะัะต	                ะกะฟะธัะพะบ ัะธะปัะผะพะฒ (ะฟะฐะณะธะฝะฐัะธั)
POST	/api/v1/movies/	        ะะฒัะพัะธะทะพะฒะฐะฝะฝัะต	    ะกะพะทะดะฐัั ัะธะปัะผ
GET	    /api/v1/movies/<id>/	ะัะต	                ะะตัะฐะปัะฝัะน ะฟัะพัะผะพัั
PUT	    /api/v1/movies/<id>/	ะะปะฐะดะตะปะตั / ะฐะดะผะธะฝ	ะะฑะฝะพะฒะธัั ัะธะปัะผ
DELETE	/api/v1/movies/<id>/	ะะปะฐะดะตะปะตั / ะฐะดะผะธะฝ	ะฃะดะฐะปะธัั ัะธะปัะผ

## ๐ ะะฒัะพัะธะทะฐัะธั (JWT)
ะะพะปััะตะฝะธะต ัะพะบะตะฝะฐ
POST /api/v1/token/ {"username": "user", "password": "pass"}

ะะฑะฝะพะฒะปะตะฝะธะต ัะพะบะตะฝะฐ
POST /api/v1/token/refresh/

ะัะพะฒะตัะบะฐ ัะพะบะตะฝะฐ
POST /api/v1/token/verify/

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต
ะะฐะฟัััะธัั ัะตััั:

pytest -v

ะัะฝะพะฒะฝัะต ะณััะฟะฟั ัะตััะพะฒ:

- CRUD ัะธะปัะผะพะฒ
- JWT ะฐะฒัะพัะธะทะฐัะธั
- ะะพัััะฟั (ะฒะปะฐะดะตะปะตั / ะฐะดะผะธะฝ / ะฐะฝะพะฝะธะผ)
- ะะฐะณะธะฝะฐัะธั
- ะะฐะปะธะดะฐัะธั
- Unique slug

## ๐ CI/CD (GitHub Actions)

ะ ะฟัะพะตะบั ะฒะบะปัััะฝ workflow, ะบะพัะพััะน ะทะฐะฟััะบะฐะตััั ะฟัะธ ะบะฐะถะดะพะผ ะฟััะต:

name: Django Tests
runs-on: ubuntu-latest
steps:
  - uses: actions/checkout@v3
  - uses: actions/setup-python@v4
    with:
      python-version: 3.12
  - run: pip install -r requirements.txt
  - run: python manage.py migrate
  - run: pytest

## ๐ API ะดะพะบัะผะตะฝัะฐัะธั (Swagger)

ะะพัะปะต ัััะฐะฝะพะฒะบะธ drf-spectacular ะดะพัััะฟะฝะพ:

Swagger UI

๐ http://127.0.0.1:8000/api/v1/docs/

OpenAPI ััะตะผะฐ

๐ http://127.0.0.1:8000/api/v1/schema/

ะะพะบัะผะตะฝัะฐัะธั ะณะตะฝะตัะธััะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ.

## ๐บ Roadmap

๐ ะ ะฟะปะฐะฝะฐั:

- ะคะธะปัััะฐัะธั ัะธะปัะผะพะฒ ะฟะพ ะถะฐะฝัะฐะผ, ัะตะณะฐะผ, ะณะพะดั
- ะะตะนัะธะฝะณ ัะธะปัะผะพะฒ
- ะะพะผะผะตะฝัะฐัะธะธ
- Deploy ะฝะฐ Render / Railway / Docker Hub
- ะะตัะตะฒะพะด API ะฝะฐ FastAPI


## ะะฐะฟััะบ ะฟัะพะตะบัะฐ
1. ะกะพะทะดะฐะนัะต ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต: `python -m venv .venv`
2. ะะบัะธะฒะธััะนัะต: `source .venv/bin/activate` (Linux/Mac) ะธะปะธ `.venv\Scripts\activate` (Windows)
3. ะะตัะตะนะดะธัะต ะฒ ะดะธัะตะบัะพัะธั ั ะฟัะพะตะบัะพะผ: `cd <ะัะบะฒะฐ ะะธัะบะฐ>\Projects\<ะะผั ะฟัะพะตะบัะฐ>\<ะะธัะตะบัะพัะธั ะฟัะพะตะบัะฐ>`
4. ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ: `pip install -r requirements.txt`
5. ะกะพะทะดะฐะนัะต ััะฟะตัะฟะพะปัะทะพะฒะฐัะตะปั: `python manage.py createsuperuser`
6. ะะฐะฟัััะธัะต ะผะธะณัะฐัะธะธ: `python manage.py migrate`
7. ะะฐะฟัััะธัะต ัะตัะฒะตั: `python manage.py runserver`

## ะะฐะฟััะบ ัะตัะตะท Docker
1. ะฃะฑะตะดะธัะตัั, ััะพ [Docker](https://www.docker.com/) ะธ [Docker Compose](https://docs.docker.com/compose/install/) ัััะฐะฝะพะฒะปะตะฝั.

2. ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน:
   ```bash
   git clone https://github.com/VladTyukilin/EchoesOfCinema.git
   ```
   
3. ะะตัะตะนะดะธัะต ะฒ ะดะธัะตะบัะพัะธั ะฟัะพะตะบัะฐ:
   ```bash
   cd EchoesOfCinema
   ```
   
4. ะกะพะฑะตัะธัะต ะธ ะทะฐะฟัััะธัะต ะบะพะฝัะตะนะฝะตั:
   ```bash
   docker-compose up --build
   ```
   
5. ะัะบัะพะนัะต ะฒ ะฑัะฐัะทะตัะต:
   http://localhost:8000

๐ก ะัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต Docker ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะธะผะตะฝะธั ะผะธะณัะฐัะธะธ ะธ ะทะฐะฟัััะธั ัะตัะฒะตั

ะธะปะธ

ะะฐัะธะฐะฝั ัะตัะตะท `docker run` ััะตะฑัะตั ัััะฝะพะณะพ ะฟัะธะผะตะฝะตะฝะธั ะผะธะณัะฐัะธะน 

1. ะกะพะฑะตัะธัะต ะพะฑัะฐะท: `docker build -t echoesofcinema .`
2. ะะฐะฟัััะธัะต ะบะพะฝัะตะนะฝะตั: `docker run -p 8000:8000 echoesofcinema`
3. ะะตัะตะนะดะธัะต ะฒ ะฑัะฐัะทะตัะต ะฟะพ ะฐะดัะตัั: `http://localhost:8000`

## ะะฐัััะพะนะบะฐ ะพะบััะถะตะฝะธั
1. ะกะพะทะดะฐะนัะต ัะฐะนะป `.env` ะฝะฐ ะพัะฝะพะฒะต ัะฐะฑะปะพะฝะฐ:
   ```bash
   cp .env.example .env  # Linux/Mac
   copy .env.example .env  # Windows (cmd)
   ```

2. ะกะณะตะฝะตัะธััะนัะต SECRET_KEY ั ะฟะพะผะพััั:
   ```bash
   python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
   ```   

3. ะฃะบะฐะถะธัะต `DEBUG=True`



## ะกัะฐัะธัะตัะบะธะต ัะฐะนะปั

ะะปั ัะฐะฑะพัั ัะพ ััะฐัะธัะตัะบะธะผะธ ัะฐะนะปะฐะผะธ:
1. ะฃะฑะตะดะธัะตัั, ััะพ STATIC_ROOT ะฝะฐัััะพะตะฝ ะฒ settings.py
2. ะกะพะฑะตัะธัะต ััะฐัะธะบั: `python manage.py collectstatic`


## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ
```
echoesofcinema/                 # ะัะฝะพะฒะฝะพะน Django-ะฟัะพะตะบั

โโโ .github/                      
โ   โโโworkflows
โ       โโโ django-tests.yml
โ
โโโ echoesofcinema/             # ะะฐัััะพะนะบะธ ะฟัะพะตะบัะฐ
โ   โโโ __init__.py
โ   โโโ settings.py
โ   โโโ urls.py
โ   โโโ asgi.py
โ   โโโ wsgi.py
โ
โโโ htmlcov/  
โ
โโโ media/                      # ะะฐะณััะถะตะฝะฝัะต ัะฐะนะปั (ะฟะพััะตัั)
โ   โโโ posters/
โ
โโโ movie/                      # ะัะธะปะพะถะตะฝะธะต: ัะฟัะฐะฒะปะตะฝะธะต ัะธะปัะผะฐะผะธ ะธ ัะตัะธะฐะปะฐะผะธ
โ   โโโ api/
โ   โ   โโโ tests/
โ   โ   โ   โโโ permissions.py
โ   โ   โ   โโโ serializers.py
โ   โ   โ   โโโ urls.py
โ   โ   โ   โโโ views.py
โ   โ   โ   โโโ __init__.py
โ   โ   โโโ permissions.py
โ   โ   โโโ serializers.py
โ   โ   โโโ urls.py
โ   โ   โโโ views.py
โ   โ   โโโ __init__.py
โ   โ
โ   โโโ fixtures/               # ะคะธะบััััั ะดะปั ัะตััะพะฒ
โ   โ   โโโ movie_movie.json
โ   โ   โโโ  auth_user.json
โ   โ
โ   โโโ migrations/               
โ   โ
โ   โโโ static/                 # ะกัะฐัะธัะตัะบะธะต ัะฐะนะปั (CSS, JS, ะธะทะพะฑัะฐะถะตะฝะธั)
โ   โ   โโโ movie/           
โ   โ       โโโ css/
โ   โ       โโโ js/
โ   โ       โโโ img/
โ   โ   
โ   โโโ templates/              # HTML-ัะฐะฑะปะพะฝั
โ   โ   โโโ movie/        
โ   โ       โโโ index.html
โ   โ       โโโ post.html
โ   โ       โโโ add_movie.html
โ   โ       โโโ about.html
โ   โ       โโโ contact.html
โ   โ       โโโ list_categories.html
โ   โ       โโโ list_tags.html
โ   โ       โโโ success.html
โ   โ
โ   โโโ tests/                  # ะกัะฐัะธัะตัะบะธะต ัะฐะนะปั (CSS, JS, ะธะทะพะฑัะฐะถะตะฝะธั)
โ   โ   โโโ __init__.py
โ   โ   โโโ test_mainpage.py
โ   โ   โโโ test_models.py
โ   โ   โโโ test_pages.py
โ   โ   โโโ test_register_user.py
โ   โ   โโโ test_views.py
โ   โ
โ   โโโ __init__.py
โ   โโโ models.py               # ะะพะดะตะปะธ ะดะฐะฝะฝัั
โ   โโโ views.py                # ะัะตะดััะฐะฒะปะตะฝะธั
โ   โโโ urls.py                 # ะะฐัััััั
โ   โโโ forms.py                # ะคะพัะผั
โ   โโโ admin.py                # ะะดะผะธะฝะบะฐ
โ   โโโ apps.py
โ   โโโ utils.py
โ   โโโ menu.py
โ
โโโ petvenv/
โ
โโโ screenshots/
โ
โโโ templates/
โ   โโโ base.html
โ       
โโโ users/                      # ะัะธะปะพะถะตะฝะธะต: ัะตะณะธัััะฐัะธั ะธ ะฐััะตะฝัะธัะธะบะฐัะธั
โ   โโโ __init__.py
โ   โโโ views.py
โ   โโโ urls.py
โ   โโโ forms.py
โ   โโโ templates/              # ะจะฐะฑะปะพะฝั ะฟะพะปัะทะพะฒะฐัะตะปััะบะธั ัััะฐะฝะธั
โ 
โโโ .coverage
โโโ .dockerignore
โโโ .env.example                # ะัะธะผะตั ัะฐะนะปะฐ ะพะบััะถะตะฝะธั
โโโ .gitignore
โโโ db.sqlite3
โโโ docker-compose.yml          # ะะฐะฟััะบ ัะตัะตะท Docker Compose
โโโ Dockerfile                  # ะะพะฝัะธะณััะฐัะธั Docker-ะพะฑัะฐะทะฐ
โโโ manage.py
โโโ pytest.ini
โโโ README.md
โโโ requirements.txt            # ะะฐะฒะธัะธะผะพััะธ Python
```